dist: trusty
sudo: false
git:
  depth: false
env:
  global:
    - CC_TEST_REPORTER_ID=53eef44d00d3465aeaf806ea310cfc5497e7473d13ae05fbc753890c39712c60
addons:
  sonarcloud:
    organization: "lucacappelletti94-github"
    token:
      secure: "pWhsthzcP9qps05g+zgFaUFnheTRFWDEjVbIXxnpPDZLHR7akBjlfW6LbJTtLw7An0XlxFrWdXQUYDsvHVst38JHpUTfq8+9TTuMcvsUrR66KHxwsYjl60eQhb+nRePJEc+hsZs32vmOC/JoVflqgiLWzKNAUDCNo3uzcqEHWbADHniWBv5AmxJzI+nZj92rPujmhfOldSuCX7MIB1M3ODFppYaSBVtpIYZePM/9SN+N469XJaPrcc1+zAS/wUfSCyjVwIGUoVatp+v4wOOEhQJR6tSMO2wAbfVOayfgrxoKz0MqAUe4+7h+/dt5MAHkOe8GzrfRcYkFeQaD1vVX+YXBZQbGsvJ9qGZd1U5GuIwuWrJRFgKaKu0GAOTkZ+VYUprCWjsivrbJXJFysZTzE5OGaRT335L+f+KPYj6n1eD49SGo7yJewJ3eDUhz6ElS6BJyaAvuHv9PnUNJVfAtbDR4FQEt9LjXouNkrgesWQguevGyIGyo2rBkX8GDvCGNeIay/u4syJwJYUuwNYjvav04Ihzn9XEZxgtppa71mP0Q3D+qNiwqw0KjuLiPVWFVDk52EvYl0V1ZgAofi4uMR5+OS7uq5CIFh7CwIrQtCsCbfAnmtm2VYOc1XsSmD2xvzejfrRGsKD9tgDFnE6fJWQA//XjipP2JWHyaof2k3LM="
language: python
python:
- '3.6'
before_install:
  - pip install --upgrade pytest
install:
- pip install .[test]
before_script:
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - ./cc-test-reporter before-build
after_script:
  - ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT
script:
- rm -rf .coverage
- coverage erase
- pytest --cov=validate_version_code --cov-report xml:coverage.xml 
- coverage report
- coverage xml
- sonar-scanner

after_success:
  - coveralls